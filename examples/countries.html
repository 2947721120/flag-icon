<!DOCTYPE html>
<head>
	<title>Country Flag Icons</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<script src="../../platform/platform.js"></script>
	<link rel="import" href="../flag-icon.html">
	<link rel="import" href="index-links.html">
	<style>
		.show {
			position: fixed;
			left: 725px;
			top: 15px;
		}
		.show flag-icon {
			display: block;
		}
	</style>
</head>
<body unresolved>
	<h1>&lt;flag-icon&gt; Demos</h1>

	<table width="700px">
		<tr>
			<th style="width:450px">Country</th>
			<th style="width:450px"></th>
			<th>Alpha2</th>
			<th style="width:75px;">Alpha3</th>
			<th>Numeric</th>
			<th>SVG</th>
		</tr>
		<template id="otherTable" repeat="{{other}}">
			<tr onmouseover="changeShow('{{alpha2}}',true);">
				<td colspan="2"><flag-icon key="{{name}}"></flag-icon>{{name}}</td>
				<td colspan="3"><flag-icon key="{{alpha2}}"></flag-icon> {{alpha2}}</td>
				<td><flag-icon key="{{alpha2}}" svg></flag-icon></td>
			</tr>
		</template>
		<tr><td colspan="6"><hr></td></tr>
		<template id="countryTable" repeat="{{countries}}">
			<tr onmouseover="changeShow('{{alpha2}}',false);">
				<td><flag-icon key="{{name}}"></flag-icon>{{name}}</td>
				<td><flag-icon key="{{endonym}}"></flag-icon>{{endonym}}</td>
				<td><flag-icon key="{{alpha2}}"></flag-icon> {{alpha2}}</td>
				<td><flag-icon key="{{alpha3}}"></flag-icon> {{alpha3}}</td>
				<td><flag-icon key="{{numeric}}"></flag-icon> {{numeric}}</td>
				<td><flag-icon key="{{alpha2}}" svg></flag-icon></td>
			</tr>
		</template>
	</table>

	<template id="show" bind>
		<div class="show">
			<h2 style="margin-bottom:0px">{{name}}</h2>
			{{endonym}}<br>
			<p>
			<flag-icon key="{{key}}"></flag-icon>
			16x11 (default)
			<p>
			<flag-icon key="{{key}}" width="100px"></flag-icon>
			100px Scaled PNG
			<p>
			<flag-icon key="{{key}}" svg width="100px"></flag-icon>
			100px Scaled SVG
			<p>
			<flag-icon key="{{key}}" svg width="350px"></flag-icon>
			350px Scaled SVG
		</div>
	</template>

	<script>
	var showModel = {
		name: 'Canada',
		endonym: '',
		key: 'ca'
	};
	function head(arr){
		if(typeof arr == "object"){
			if(arr.length>0) return arr[0];
			else return null;
		} else return arr;
	};
	var flagicon;
	function changeShow(key,isOther){
		showModel.key = key;
		var country = flagicon.findCountry(key);
		showModel.name = country.title;
		showModel.endonym = country.data.endonym ? country.data.endonym[0] : '';
	}
	window.addEventListener('polymer-ready', function(){
		flagicon = new FlagIcon();
		document.getElementById('otherTable').model = {
			other: flagicon.countries.filter(function(t){ return !t.numeric; }).map(function(t){ return { name: head(t.name), alpha2: t.alpha2, alpha3: t.alpha3, numeric: t.numeric, endonym: head(t.endonym) }; })
		};
		document.getElementById('countryTable').model = {
			countries: flagicon.countries.filter(function(t){ return t.numeric; }).map(function(t){ return { name: head(t.name), alpha2: t.alpha2, alpha3: t.alpha3, numeric: t.numeric, endonym: head(t.endonym) }; })
		};
		document.getElementById('show').model = showModel;
	});
	</script>
	<index-links page="countries.html"></index-links>
</body>
</html>